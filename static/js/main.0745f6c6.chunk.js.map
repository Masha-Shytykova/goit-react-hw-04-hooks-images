{"version":3,"sources":["Components/Loader/Loader.module.css","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Button/Button.js","Components/Loader/Loader.js","Components/Modal/Modal.js","Components/App.js","utils/ServiceApi.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","query","setQuery","className","event","preventDefault","trim","alert","type","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","ImageGalleryItem","url","tags","toggleModal","handleSetLargeImageURL","largeImageURL","src","alt","onClick","e","ImageGallery","hits","map","id","webformatURL","Button","Loader","s","loader_container","color","height","width","timeout","modalRoot","document","querySelector","Modal","onClose","children","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","target","App","setHits","page","setPage","error","setError","status","setStatus","showModal","setShowModal","setLargeImageURL","setTags","totalHits","setTotalHits","getImages","nextQuery","fetch","then","r","ok","json","Promise","reject","Error","getImagesAPI","data","length","prev","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","handleFormSubmit","prevState","message","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.0745f6c6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader_container\":\"Loader_loader_container__1dJaN\"};","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default function Searchbar({ onSubmit }) {\n  const [query, setQuery] = useState('');\n\n  const handleNameChange = event => {\n    setQuery(event.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (query.trim() === '') {\n      alert('Enter your request');\n      return;\n    }\n\n    onSubmit(query);\n    setQuery('');\n  };\n\n  return (\n    <header className=\"Searchbar\">\n      <form className=\"SearchForm\" onSubmit={handleSubmit}>\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={query}\n          onChange={handleNameChange}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = { onSubmit: PropTypes.func.isRequired };\n","import PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({\n  url,\n  tags,\n  toggleModal,\n  handleSetLargeImageURL,\n  largeImageURL,\n}) => {\n  const handleClick = e => {\n    toggleModal();\n    handleSetLargeImageURL({ largeImageURL, tags });\n  };\n\n  return (\n    <li className=\"ImageGalleryItem\">\n      <img\n        src={url}\n        alt={tags}\n        className=\"ImageGalleryItem-image\"\n        onClick={handleClick}\n      />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n\nImageGalleryItem.propTypes = {\n  url: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  toggleModal: PropTypes.func.isRequired,\n  handleSetLargeImageURL: PropTypes.func.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n};\n","import ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport PropTypes from 'prop-types';\n\nconst ImageGallery = ({ hits, toggleModal, handleSetLargeImageURL }) => {\n  return (\n    <ul className=\"ImageGallery\">\n      {hits.map(({ id, webformatURL, largeImageURL, tags }) => (\n        <ImageGalleryItem\n          key={id}\n          url={webformatURL}\n          tags={tags}\n          toggleModal={toggleModal}\n          largeImageURL={largeImageURL}\n          handleSetLargeImageURL={handleSetLargeImageURL}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n\nImageGallery.propTypes = {\n  hits: PropTypes.array.isRequired,\n  toggleModal: PropTypes.func.isRequired,\n  handleSetLargeImageURL: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\n\nconst Button = ({ onClick }) => {\n  return (\n    <button className=\"Button\" type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n};\n\nexport default Button;\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","import L from 'react-loader-spinner';\nimport s from './Loader.module.css';\n\nconst Loader = () => {\n  return (\n    <div className={s.loader_container}>\n      <L\n        type=\"Puff\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={3000} //3 secs\n      />\n    </div>\n  );\n};\n\nexport default Loader;\n","import React, { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ onClose, children }) {\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, []); /* eslint-disable-line*/\n\n  const handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      onClose();\n    }\n  };\n  const handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className=\"Overlay\" onClick={handleBackdropClick}>\n      <div className=\"Modal\">{children}</div>\n    </div>,\n    modalRoot,\n  );\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  children: PropTypes.object,\n};\n","import React, { useState, useEffect } from 'react';\n\nimport Searchbar from './Searchbar/Searchbar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport Button from './Button/Button';\nimport Loader from './Loader/Loader';\nimport Modal from './Modal/Modal';\nimport { getImagesAPI } from '../utils/ServiceApi';\n\nexport default function App() {\n  const [query, setQuery] = useState('');\n  const [hits, setHits] = useState([]);\n  const [page, setPage] = useState(1);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState('idle');\n  const [showModal, setShowModal] = useState(false);\n  const [largeImageURL, setLargeImageURL] = useState('');\n  const [tags, setTags] = useState('');\n  const [totalHits, setTotalHits] = useState(0);\n\n  useEffect(() => {\n    if (query === '') {\n      return;\n    }\n    setStatus('pending');\n    setPage(1);\n    setHits([]);\n    getImages({ nextQuery: query, page: 1 });\n  }, [query]);\n\n  useEffect(() => {\n    if (page === 1) {\n      return;\n    }\n    setStatus('pending');\n    getImages({ nextQuery: query, page: page });\n  }, [page]); /* eslint-disable-line*/\n\n  const getImages = ({ nextQuery, page }) => {\n    getImagesAPI({ nextQuery, page })\n      .then(data => {\n        if (data.hits.length === 0) {\n          setStatus('rejected');\n        }\n        setTotalHits(data.totalHits);\n        setHits(prev => [...prev, ...data.hits]);\n        setStatus('resolved');\n      })\n      .catch(error => {\n        setError(error);\n        setStatus('rejected');\n      })\n      .finally(() => {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      });\n  };\n\n  const handleLoadMore = e => {\n    setPage(prevState => prevState + 1);\n  };\n\n  const handleFormSubmit = query => {\n    setQuery(query);\n  };\n\n  const handleSetLargeImageURL = ({ largeImageURL, tags }) => {\n    setLargeImageURL(largeImageURL);\n    setTags(tags);\n  };\n\n  const toggleModal = () => {\n    setShowModal(prevState => !prevState);\n    // this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  if (status === 'idle') {\n    return <Searchbar onSubmit={handleFormSubmit} />;\n  }\n\n  if (status === 'pending') {\n    return (\n      <>\n        <Searchbar onSubmit={handleFormSubmit} />\n        <Loader />\n      </>\n    );\n  }\n\n  if (status === 'rejected') {\n    return (\n      <>\n        <Searchbar onSubmit={handleFormSubmit} />\n        {error && <h1>{error.message}</h1>}\n      </>\n    );\n  }\n\n  if (status === 'resolved') {\n    return (\n      <>\n        <Searchbar onSubmit={handleFormSubmit} />\n        <ImageGallery\n          hits={hits}\n          toggleModal={toggleModal}\n          handleSetLargeImageURL={handleSetLargeImageURL}\n        />\n        {hits.length >= 12 && hits.length < totalHits && (\n          <Button onClick={handleLoadMore} />\n        )}\n        {hits.length === 0 && <h1>по запросу {query} ничего не найдено</h1>}\n\n        {showModal && (\n          <Modal onClose={toggleModal}>\n            <img src={largeImageURL} alt={tags} />\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n","const API_KEY = '22954093-157d8252386abbab9843eb1e8';\n\nexport const getImagesAPI = ({ nextQuery, page }) => {\n  return fetch(\n    `https://pixabay.com/api/?q=${nextQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(r => {\n    if (r.ok) {\n      return r.json();\n    }\n    return Promise.reject(\n      new Error(`по запросу ${nextQuery} ничего не найдено`),\n    );\n  });\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './Components/App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}